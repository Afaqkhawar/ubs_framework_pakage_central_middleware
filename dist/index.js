var Rs=Object.create;var f=Object.defineProperty,cs=Object.defineProperties,As=Object.getOwnPropertyDescriptor,Ds=Object.getOwnPropertyDescriptors,Ts=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,Ss=Object.getPrototypeOf,ee=Object.prototype.hasOwnProperty,ds=Object.prototype.propertyIsEnumerable;var Z=(r,s,n)=>s in r?f(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n,a=(r,s)=>{for(var n in s||(s={}))ee.call(s,n)&&Z(r,n,s[n]);if(Q)for(var n of Q(s))ds.call(s,n)&&Z(r,n,s[n]);return r},R=(r,s)=>cs(r,Ds(s));var Is=(r,s)=>()=>(s||r((s={exports:{}}).exports,s),s.exports),Us=(r,s)=>{for(var n in s)f(r,n,{get:s[n],enumerable:!0})},se=(r,s,n,e)=>{if(s&&typeof s=="object"||typeof s=="function")for(let i of Ts(s))!ee.call(r,i)&&i!==n&&f(r,i,{get:()=>s[i],enumerable:!(e=As(s,i))||e.enumerable});return r};var h=(r,s,n)=>(n=r!=null?Rs(Ss(r)):{},se(s||!r||!r.__esModule?f(n,"default",{value:r,enumerable:!0}):n,r)),ms=r=>se(f({},"__esModule",{value:!0}),r);var Je=Is((Ys,$e)=>{var D=require("crypto-js"),qe=(r,s=32)=>r.length>s?r.slice(0,s):r.length<s?r.padEnd(s,"0"):r,fs=(r,s)=>{let n=qe(s),e=D.enc.Utf8.parse(n),i=JSON.stringify(r);return D.AES.encrypt(i,e,{mode:D.mode.ECB,padding:D.pad.Pkcs7}).toString()},ys=(r,s)=>{let n=qe(s),e=D.enc.Utf8.parse(n),c=D.AES.decrypt(r,e,{mode:D.mode.ECB,padding:D.pad.Pkcs7}).toString(D.enc.Utf8);return JSON.parse(c)};$e.exports={encryptObject:fs,decryptObject:ys}});var vs={};Us(vs,{getServerResponse:()=>_s,serverCommunicationHelper:()=>F,showErrorToast:()=>is,showInfoToast:()=>ls,showSuccessToast:()=>Es});module.exports=ms(vs);var m=require("redux"),V=require("redux-persist"),rs=h(require("redux-persist/lib/storage/index")),os=h(require("redux-saga"));var ae=require("redux");var re="REDUX_UPDATE_CURRENT_USER_ROLE",oe="REDUX_LOGOUT_CURRENT_USER",te="REDUX_UPDATE_CURRENT_USER",ne="REDUX_UPDATE_LOADING_STATE",_e="REDUX_UPDATE_USER_DATA",Ee="REDUX_API_DOCUMENTATION";var ie={accesstoken:null,currentUser:null,currentUserDesignationsRoles:[],currentUserPermissions:[],userPermissions:[],userDepartments:[],userDesignation:[],userDevices:[],allUserPermissions:{},userSelectedRole:{},apiDocumentationData:[],userRoles:[],isLoading:!1},Ps=(r=ie,s)=>{var n,e,i,c;switch(s==null?void 0:s.type){case te:return R(a({},r),{currentUser:s.payload.otpVerif.user,accesstoken:s.payload.otpVerif.access_token,currentUserDesignationsRoles:s.payload.otpVerif.user_roles_designations_departments,userSelectedRole:((e=(n=s.payload.otpVerif)==null?void 0:n.user_roles_designations_departments)==null?void 0:e.length)>0?s.payload.otpVerif.user_roles_designations_departments[0]:{},userPermissions:s.payload.otpVerif.collective_user_permissions,currentUserPermissions:((i=s.payload.otpVerif.user_roles_designations_departments)==null?void 0:i.length)>0?s.payload.otpVerif.user_permissions[s.payload.otpVerif.user_roles_designations_departments[0].user_role_designation_department_id]:[],allUserPermissions:s.payload.otpVerif.user_permissions,userDepartments:s.payload.otpVerif.user_departments,userDesignation:s.payload.otpVerif.user_designations,userRoles:s.payload.otpVerif.user_roles,userDevices:s.payload.otpVerif.user_devices});case _e:let d=a(a({},r.currentUser),s.requestParams);return R(a({},r),{currentUser:d});case oe:return ie;case re:return R(a({},r),{userSelectedRole:s.payload,currentUserPermissions:r.allUserPermissions[(c=s.payload)==null?void 0:c.user_role_designation_department_id]});case ne:return R(a({},r),{isLoading:s.payload});case Ee:return R(a({},r),{isLoading:!1,apiDocumentationData:s.payload.payload});default:return r}},le=Ps;var Os=(0,ae.combineReducers)({main:le}),pe=Os;var es=require("redux-saga/effects");var Re="GET_OTP",ce="VERIFY_OTP",Ae="UPDATE_CURRENT_USER_ROLE",De="UPDATE_LOADING_STATE",Te="LOGOUT_CURRENT_USER",Se="GET_ALL_USERS",de="GET_ALL_ROLES",Ie="DELETE_USER",Ue="ADD_USER",me="DELETE_ROLE",Pe="ADD_ROLE",Oe="GET_GROUPS",fe="GET_ALL_PERMISSIONS",ye="GET_ALL_PERMISSIONS_GROUPS",ue="UPDATE_USER_DATA",ge="GET_ALL_USER_ROLE_PERMISSIONS_GROUPS",Ne="GET_ADMIN_DASHBOARD_DATA",Le="GET_USER_DEVICES",Ge="ADD_PERMISSION",Me="PERMISSION_UPDATE",Ce="GET_PERMISSION_BY_ID",b="admin_user_view",xe="admin_designation_view",Ve="admin_departments_view",ve="UPDATE_PERMISSION_BY_ID",he="admin_rolesdesignationsdepartment_view",be="admin_urdd_view",we="admin_permission_groups_view",Fe="admin_pgp_view",Be="admin_user_role_designation_permissions_view",ke="GET_INDIVIDUAL_LEADERBOARD_DATA",We="GET_GROUP_LEADERBOARD_DATA",Xe="GET_USER_DEVICES_OTP",Ye="ADD_DEVICE",Ke="ADD_DEVICE_OTP",je="FETCH_CLASS_ACTIVITIES";var He="API_DOCUMENTATION";var o=require("redux-saga/effects");var y=require("redux-saga/effects"),T=h(Je());var us={base_url:"http://localhost:3000/api",step1:"&step=1",step2:"&step=2",version:"?version=1.0",all:"/all",list:"/list",update:"/update",add:"/add",delete:"/delete",dropDown:"/dropdown",groups:"/groups",errors:"/errors",get:"/get",email:"/email",log:"/log",api_documentation:"/documentation",get_otp:"/login?version=1.0&step=1",verify_otp:"/login?version=1.0&step=2",users_role_info:"/users_role_info",login:"/login",info:"/info",crud:"/crud",users:"/users",groups:"/groups",get_admin_dashboard_data:"/admin/dashboard",user_devices:"devices",attachments:"/attachments",chatting_group_members:"/chatting_group_members",chatting_groups:"/chatting_groups",departments:"/departments",designations:"/designations",messages:"/messages",notifications:"/notifications",permission_groups:"/permission_groups",permission_groups_permissions:"/permission_groups_permissions",permissions:"/permissions",platform_versions:"/platform_versions",platforms:"/platforms",roles:"/roles",roles_designations_department:"/roles_designations_department",task_flow_steps:"/task_flow_steps",task_flows:"/task_flows",task_history:"/task_history",tasks:"/tasks",templates:"/templates",user_device_notifications:"/user_device_notifications",luser_devices:"/user_devices",user_role_designation_permissions:"/user_role_designation_permissions",user_roles_designations_department:"/user_roles_designations_department"},ze=us;function*gs(r,s,n){var i,c,d,u,g,N,L,G,M,I,k,W,X,Y,K,j,H,q;console.log("********* SAGHELPER ACTION: ********",r,`
*******   [queryParameter: ${s} ]
******** [queryParameterId:${n} ]********
`);let e=(r==null?void 0:r.payload)||r;try{console.log("ENV CHECK",process.env);let S=yield(0,y.select)(p=>p.main);if(!((i=process.env)!=null&&i.REACT_APP_PLATFORM_KEY)||!((c=process.env)!=null&&c.REACT_APP_SECRET_KEY)){console.log("Encryption Failed"),e==null||e.onFailure({status:401,frameworkStatusCode:"E44",message:"Encryption Failed [ Env not found ]."});return}let $=yield(0,y.select)(p=>p),{userSelectedRole:l}=$.main;console.log("currentUser",$,l);let J=e==null?void 0:e.apiUrl,as=(e==null?void 0:e.useBaseURL)!=!1,C=(e==null?void 0:e.isFile)==!0;console.log("isFile: ",C,e==null?void 0:e.isFile);let P=(e==null?void 0:e.isEncrypted)!=!1;console.log("isEncrypted: ",P);let U=as?((d=ze)==null?void 0:d.base_url)+J:J;s&&s!==""&&(U+=s),n&&n!==""&&(U+="&id="+n);let ps=e==null?void 0:e.metaData,O=e==null?void 0:e.formData,z=(S==null?void 0:S.accesstoken)||null,E={headers:R(a({},O?{}:{"Content-Type":"application/json"}),{accesstoken:z}),method:(e==null?void 0:e.requestType)||"GET"};if(ps&&z===null&&console.warn("metaData is true but access token is not present in header"),e!=null&&e.body&&(e==null?void 0:e.requestType)!=="GET")if((e==null?void 0:e.requestType)==="DELETE")if(P){let _={reqData:(0,T.encryptObject)({Id:`${((u=e==null?void 0:e.body)==null?void 0:u.Id)||null}`,actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id},(g=process.env)==null?void 0:g.REACT_APP_PLATFORM_KEY),encryptionDetails:{PlatformName:(N=process.env)==null?void 0:N.REACT_APP_PLATFORM_NAME,PlatformVersion:(L=process.env)==null?void 0:L.REACT_APP_PLATFORM_VERSION}};E.headers.encryptedrequest=(0,T.encryptObject)(_,(G=process.env)==null?void 0:G.REACT_APP_SECRET_KEY)}else E.headers.reqData={Id:`${((M=r==null?void 0:r.body)==null?void 0:M.Id)||null}`,actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id};else if(P){E.body={encryptedRequest:{}};let p=O?e==null?void 0:e.body:R(a({},(e==null?void 0:e.body)||null),{actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id});console.log("***************** Final Updated Body ***************** ",p);let A={reqData:(0,T.encryptObject)(p,(I=process.env)==null?void 0:I.REACT_APP_PLATFORM_KEY),encryptionDetails:{PlatformName:(k=process.env)==null?void 0:k.REACT_APP_PLATFORM_NAME,PlatformVersion:(W=process.env)==null?void 0:W.REACT_APP_PLATFORM_VERSION}};E.body.encryptedRequest=(0,T.encryptObject)(A,(X=process.env)==null?void 0:X.REACT_APP_SECRET_KEY),E.body=JSON.stringify(E==null?void 0:E.body)}else O?E.body=e==null?void 0:e.body:E.body=JSON.stringify(R(a({},(e==null?void 0:e.body)||{}),{actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id}));else if(P){E.headers=R(a({},E==null?void 0:E.headers),{encryptedRequest:{}});let p=O?e==null?void 0:e.body:R(a({},(e==null?void 0:e.body)||{}),{actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id});console.log("***************** Final Updated Body ***************** ",p);let A={reqData:(0,T.encryptObject)(p,(Y=process.env)==null?void 0:Y.REACT_APP_PLATFORM_KEY),encryptionDetails:{PlatformName:(K=process.env)==null?void 0:K.REACT_APP_PLATFORM_NAME,PlatformVersion:(j=process.env)==null?void 0:j.REACT_APP_PLATFORM_VERSION}};E.headers.encryptedRequest=(0,T.encryptObject)(A,(H=process.env)==null?void 0:H.REACT_APP_SECRET_KEY)}else E.headers=O?E==null?void 0:E.headers:R(a({},E==null?void 0:E.headers),{reqData:{actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id}});if(console.log("Complete URL",U),U!==""){console.log(`***************** API_Request_After_Encryption *************
`,E);let p=yield fetch(U,E).catch(A=>{console.log(`Network error: ${A==null?void 0:A.message}`)}),_=C?p:yield p.json();if(console.log("responseData::::",_),_.status!==200){let A=Ns(_.status,_.scc);e!=null&&e.onFailure&&typeof(e==null?void 0:e.onFailure)=="function"&&(e==null||e.onFailure({status:_==null?void 0:_.status,frameworkStatusCode:_==null?void 0:_.scc,message:A||(_==null?void 0:_.message)}));return}else _!=null&&_.payload&&P?_=(0,T.decryptObject)(_==null?void 0:_.payload,(q=process.env)==null?void 0:q.REACT_APP_PLATFORM_KEY):_=C?p:_==null?void 0:_.payload,e!=null&&e.reduxActionType&&(yield(0,y.put)({type:e==null?void 0:e.reduxActionType,payload:_,requestParams:e==null?void 0:e.body})),typeof(e==null?void 0:e.onSuccess)=="function"&&(console.log(`***************** API_Response *************
 `,U,_,C),e==null||e.onSuccess(_))}}catch(S){console.error(`******** Error in fetchData ******* : ${S==null?void 0:S.message}`),e!=null&&e.onFailure&&typeof(e==null?void 0:e.onFailure)=="function"&&(e==null||e.onFailure({message:S.message}))}}var Ns=(r,s)=>({E10:"Parameter name does not exist.",E11:"Parameter validation failure.",E12:"Parameter missing in source.",E13:"Required parameter missing.",E14:"No request body found.",E20:"Invalid or missing query nature.",E21:"Invalid or missing query payload.",E22:"Callback function error.",E23:"Callback function missing.",E24:"Payload function error.",E25:"Payload function missing.",E30:"Invalid or missing request method.",E31:"Invalid or missing permission.",E32:"Invalid page size value.",E40:"Invalid or expired token.",E41:"Permission validation failure.",E42:"OTP verification failure.",E43:"Object resolver failure.",E44:"Database connection failed.",E50:"API version does not exist.",E51:"API object does not exist.",E52:"Mismatch request method."})[s]||`Unexpected error (Code: ${s})`,t=gs;var Qe=require("redux-saga/effects");function*Ls(r){yield(0,Qe.put)({type:r.payload.reduxActionType,payload:r.payload.data})}var x=Ls;function*Gs(){yield(0,o.takeEvery)(Re,t),yield(0,o.takeEvery)(ce,t),yield(0,o.takeEvery)(Se,t),yield(0,o.takeEvery)(de,t),yield(0,o.takeEvery)(Ie,t),yield(0,o.takeEvery)(Ue,t),yield(0,o.takeEvery)(me,t),yield(0,o.takeEvery)(Pe,t),yield(0,o.takeEvery)(Oe,t),yield(0,o.takeEvery)(fe,t),yield(0,o.takeEvery)(ye,t),yield(0,o.takeEvery)(ue,t),yield(0,o.takeEvery)(ge,t),yield(0,o.takeEvery)(Ne,t),yield(0,o.takeEvery)(Le,t),yield(0,o.takeEvery)(Ge,t),yield(0,o.takeEvery)(Me,t),yield(0,o.takeEvery)(Ce,t),yield(0,o.takeEvery)(ve,t),yield(0,o.takeEvery)(b,t),yield(0,o.takeEvery)(xe,t),yield(0,o.takeEvery)(Ve,t),yield(0,o.takeEvery)(he,t),yield(0,o.takeEvery)(be,t),yield(0,o.takeEvery)(we,t),yield(0,o.takeEvery)(Fe,t),yield(0,o.takeEvery)(Be,t),yield(0,o.takeEvery)(b,t),yield(0,o.takeEvery)("admin_user_update",t),yield(0,o.takeEvery)("admin_urdd_list",t),yield(0,o.takeEvery)("admin_urdd_add",t),yield(0,o.takeEvery)(Ae,x),yield(0,o.takeEvery)(De,x),yield(0,o.takeEvery)(Te,x),yield(0,o.takeEvery)(He,t),yield(0,o.takeEvery)(ke,t),yield(0,o.takeEvery)(We,t),yield(0,o.takeEvery)(Xe,t),yield(0,o.takeEvery)(Ye,t),yield(0,o.takeEvery)(Ke,t),yield(0,o.takeEvery)(je,t)}var Ze=Gs;function*Ms(){yield(0,es.all)([Ze()])}var ss=Ms;var Cs={key:"root",storage:rs.default},xs=(0,V.persistReducer)(Cs,pe),ts=(0,os.default)(),Vs=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.compose,w=(0,m.createStore)(xs,Vs((0,m.applyMiddleware)(ts)));ts.run(ss);var nr=(0,V.persistStore)(w);var ns=require("redux-saga");var _s=async(r,s=null,n=null,e=null)=>{if(!(r!=null&&r.apiUrl)){console.error("Error","No API URL provided");return}try{return await(0,ns.runSaga)({dispatch:()=>{},getState:()=>w.getState()},t,r,s,n).toPromise()}catch(i){console.error("Error in Server Response:",i)}finally{e&&e(!1)}};function F({apiActionType:r="",permission:s=!1,requestType:n="GET",apiUrl:e,isEncrypted:i=!0,metaData:c=!0,useBaseURL:d=!0,formData:u=!1,body:g={},reduxActionType:N="",isFile:L=!1,onSuccess:G=I=>console.log("Success:",I),onFailure:M=I=>console.log("Error:",I.message)}){return{apiActionType:r,permission:s,requestType:n,apiUrl:e,metaData:c,body:g,formData:u,useBaseURL:d,isEncrypted:i,reduxActionType:N,isFile:L,onSuccess:G,onFailure:M}}var v=require("react-toastify"),pr=require("react-toastify/dist/ReactToastify.css"),B={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},Es=r=>{v.toast.success(r,B)},is=r=>{v.toast.error(r,B)},ls=r=>{v.toast.info(r,B)};0&&(module.exports={getServerResponse,serverCommunicationHelper,showErrorToast,showInfoToast,showSuccessToast});
//# sourceMappingURL=index.js.map