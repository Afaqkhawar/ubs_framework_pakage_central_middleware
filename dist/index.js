var Ms=Object.create;var u=Object.defineProperty,Cs=Object.defineProperties,xs=Object.getOwnPropertyDescriptor,Vs=Object.getOwnPropertyDescriptors,vs=Object.getOwnPropertyNames,se=Object.getOwnPropertySymbols,hs=Object.getPrototypeOf,oe=Object.prototype.hasOwnProperty,bs=Object.prototype.propertyIsEnumerable;var re=(s,r,n)=>r in s?u(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n,a=(s,r)=>{for(var n in r||(r={}))oe.call(r,n)&&re(s,n,r[n]);if(se)for(var n of se(r))bs.call(r,n)&&re(s,n,r[n]);return s},R=(s,r)=>Cs(s,Vs(r));var c=(s,r)=>()=>(s&&(r=s(s=0)),r);var ws=(s,r)=>()=>(r||s((r={exports:{}}).exports,r),r.exports),w=(s,r)=>{for(var n in r)u(s,n,{get:r[n],enumerable:!0})},te=(s,r,n,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of vs(r))!oe.call(s,i)&&i!==n&&u(s,i,{get:()=>r[i],enumerable:!(e=xs(r,i))||e.enumerable});return s};var F=(s,r,n)=>(n=s!=null?Ms(hs(s)):{},te(r||!s||!s.__esModule?u(n,"default",{value:s,enumerable:!0}):n,s)),B=s=>te(u({},"__esModule",{value:!0}),s);var ne,_e,Ee,ie,le,ae,pe=c(()=>{ne="REDUX_UPDATE_CURRENT_USER_ROLE",_e="REDUX_LOGOUT_CURRENT_USER",Ee="REDUX_UPDATE_CURRENT_USER",ie="REDUX_UPDATE_LOADING_STATE",le="REDUX_UPDATE_USER_DATA",ae="REDUX_API_DOCUMENTATION"});var Re,Fs,ce,Ae=c(()=>{pe();Re={accesstoken:null,currentUser:null,currentUserDesignationsRoles:[],currentUserPermissions:[],userPermissions:[],userDepartments:[],userDesignation:[],userDevices:[],allUserPermissions:{},userSelectedRole:{},apiDocumentationData:[],userRoles:[],isLoading:!1},Fs=(s=Re,r)=>{var n,e,i,A;switch(r==null?void 0:r.type){case Ee:return R(a({},s),{currentUser:r.payload.otpVerif.user,accesstoken:r.payload.otpVerif.access_token,currentUserDesignationsRoles:r.payload.otpVerif.user_roles_designations_departments,userSelectedRole:((e=(n=r.payload.otpVerif)==null?void 0:n.user_roles_designations_departments)==null?void 0:e.length)>0?r.payload.otpVerif.user_roles_designations_departments[0]:{},userPermissions:r.payload.otpVerif.collective_user_permissions,currentUserPermissions:((i=r.payload.otpVerif.user_roles_designations_departments)==null?void 0:i.length)>0?r.payload.otpVerif.user_permissions[r.payload.otpVerif.user_roles_designations_departments[0].user_role_designation_department_id]:[],allUserPermissions:r.payload.otpVerif.user_permissions,userDepartments:r.payload.otpVerif.user_departments,userDesignation:r.payload.otpVerif.user_designations,userRoles:r.payload.otpVerif.user_roles,userDevices:r.payload.otpVerif.user_devices});case le:let I=a(a({},s.currentUser),r.requestParams);return R(a({},s),{currentUser:I});case _e:return Re;case ne:return R(a({},s),{userSelectedRole:r.payload,currentUserPermissions:s.allUserPermissions[(A=r.payload)==null?void 0:A.user_role_designation_department_id]});case ie:return R(a({},s),{isLoading:r.payload});case ae:return R(a({},s),{isLoading:!1,apiDocumentationData:r.payload.payload});default:return s}},ce=Fs});var De,Bs,Te,Se=c(()=>{De=require("redux");Ae();Bs=(0,De.combineReducers)({main:ce}),Te=Bs});var de,Ie,Ue,Pe,me,Oe,fe,ye,ue,ge,Ne,Le,Ge,Me,Ce,xe,Ve,ve,he,be,we,k,Fe,Be,ke,We,Xe,Ye,qe,Ke,je,He,$e,Je,ze,Qe,Ze,es=c(()=>{de="GET_OTP",Ie="VERIFY_OTP",Ue="UPDATE_CURRENT_USER_ROLE",Pe="UPDATE_LOADING_STATE",me="LOGOUT_CURRENT_USER",Oe="GET_ALL_USERS",fe="GET_ALL_ROLES",ye="DELETE_USER",ue="ADD_USER",ge="DELETE_ROLE",Ne="ADD_ROLE",Le="GET_GROUPS",Ge="GET_ALL_PERMISSIONS",Me="GET_ALL_PERMISSIONS_GROUPS",Ce="UPDATE_USER_DATA",xe="GET_ALL_USER_ROLE_PERMISSIONS_GROUPS",Ve="GET_ADMIN_DASHBOARD_DATA",ve="GET_USER_DEVICES",he="ADD_PERMISSION",be="PERMISSION_UPDATE",we="GET_PERMISSION_BY_ID",k="admin_user_view",Fe="admin_designation_view",Be="admin_departments_view",ke="UPDATE_PERMISSION_BY_ID",We="admin_rolesdesignationsdepartment_view",Xe="admin_urdd_view",Ye="admin_permission_groups_view",qe="admin_pgp_view",Ke="admin_user_role_designation_permissions_view",je="GET_INDIVIDUAL_LEADERBOARD_DATA",He="GET_GROUP_LEADERBOARD_DATA",$e="GET_USER_DEVICES_OTP",Je="ADD_DEVICE",ze="ADD_DEVICE_OTP",Qe="FETCH_CLASS_ACTIVITIES",Ze="API_DOCUMENTATION"});var os=ws((cr,rs)=>{var T=require("crypto-js"),ss=(s,r=32)=>s.length>r?s.slice(0,r):s.length<r?s.padEnd(r,"0"):s,ks=(s,r)=>{let n=ss(r),e=T.enc.Utf8.parse(n),i=JSON.stringify(s);return T.AES.encrypt(i,e,{mode:T.mode.ECB,padding:T.pad.Pkcs7}).toString()},Ws=(s,r)=>{let n=ss(r),e=T.enc.Utf8.parse(n),A=T.AES.decrypt(s,e,{mode:T.mode.ECB,padding:T.pad.Pkcs7}).toString(T.enc.Utf8);return JSON.parse(A)};rs.exports={encryptObject:ks,decryptObject:Ws}});var Xs,ts,ns=c(()=>{Xs={base_url:"http://localhost:3000/api",step1:"&step=1",step2:"&step=2",version:"?version=1.0",all:"/all",list:"/list",update:"/update",add:"/add",delete:"/delete",dropDown:"/dropdown",groups:"/groups",errors:"/errors",get:"/get",email:"/email",log:"/log",api_documentation:"/documentation",get_otp:"/login?version=1.0&step=1",verify_otp:"/login?version=1.0&step=2",users_role_info:"/users_role_info",login:"/login",info:"/info",crud:"/crud",users:"/users",groups:"/groups",get_admin_dashboard_data:"/admin/dashboard",user_devices:"devices",attachments:"/attachments",chatting_group_members:"/chatting_group_members",chatting_groups:"/chatting_groups",departments:"/departments",designations:"/designations",messages:"/messages",notifications:"/notifications",permission_groups:"/permission_groups",permission_groups_permissions:"/permission_groups_permissions",permissions:"/permissions",platform_versions:"/platform_versions",platforms:"/platforms",roles:"/roles",roles_designations_department:"/roles_designations_department",task_flow_steps:"/task_flow_steps",task_flows:"/task_flows",task_history:"/task_history",tasks:"/tasks",templates:"/templates",user_device_notifications:"/user_device_notifications",luser_devices:"/user_devices",user_role_designation_permissions:"/user_role_designation_permissions",user_roles_designations_department:"/user_roles_designations_department"},ts=Xs});function*Ys(s,r,n){var i,A,I,L,G,M,C,x,V,U,Y,q,K,j,H,$,J,z;console.log("********* SAGHELPER ACTION: ********",s,`
*******   [queryParameter: ${r} ]
******** [queryParameterId:${n} ]********
`);let e=(s==null?void 0:s.payload)||s;try{console.log("ENV CHECK",process.env);let d=yield(0,g.select)(p=>p.main);if(!((i=process.env)!=null&&i.REACT_APP_PLATFORM_KEY)||!((A=process.env)!=null&&A.REACT_APP_SECRET_KEY)){console.log("Encryption Failed"),e==null||e.onFailure({status:401,frameworkStatusCode:"E44",message:"Encryption Failed [ Env not found ]."});return}let Q=yield(0,g.select)(p=>p),{userSelectedRole:l}=Q.main;console.log("currentUser",Q,l);let Z=e==null?void 0:e.apiUrl,Ls=(e==null?void 0:e.useBaseURL)!=!1,v=(e==null?void 0:e.isFile)==!0;console.log("isFile: ",v,e==null?void 0:e.isFile);let f=(e==null?void 0:e.isEncrypted)!=!1;console.log("isEncrypted: ",f);let P=Ls?((I=ts)==null?void 0:I.base_url)+Z:Z;r&&r!==""&&(P+=r),n&&n!==""&&(P+="&id="+n);let Gs=e==null?void 0:e.metaData,y=e==null?void 0:e.formData,ee=(d==null?void 0:d.accesstoken)||null,E={headers:R(a({},y?{}:{"Content-Type":"application/json"}),{accesstoken:ee}),method:(e==null?void 0:e.requestType)||"GET"};if(Gs&&ee===null&&console.warn("metaData is true but access token is not present in header"),e!=null&&e.body&&(e==null?void 0:e.requestType)!=="GET")if((e==null?void 0:e.requestType)==="DELETE")if(f){let _={reqData:(0,S.encryptObject)({Id:`${((L=e==null?void 0:e.body)==null?void 0:L.Id)||null}`,actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id},(G=process.env)==null?void 0:G.REACT_APP_PLATFORM_KEY),encryptionDetails:{PlatformName:(M=process.env)==null?void 0:M.REACT_APP_PLATFORM_NAME,PlatformVersion:(C=process.env)==null?void 0:C.REACT_APP_PLATFORM_VERSION}};E.headers.encryptedrequest=(0,S.encryptObject)(_,(x=process.env)==null?void 0:x.REACT_APP_SECRET_KEY)}else E.headers.reqData={Id:`${((V=s==null?void 0:s.body)==null?void 0:V.Id)||null}`,actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id};else if(f){E.body={encryptedRequest:{}};let p=y?e==null?void 0:e.body:R(a({},(e==null?void 0:e.body)||null),{actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id});console.log("***************** Final Updated Body ***************** ",p);let D={reqData:(0,S.encryptObject)(p,(U=process.env)==null?void 0:U.REACT_APP_PLATFORM_KEY),encryptionDetails:{PlatformName:(Y=process.env)==null?void 0:Y.REACT_APP_PLATFORM_NAME,PlatformVersion:(q=process.env)==null?void 0:q.REACT_APP_PLATFORM_VERSION}};E.body.encryptedRequest=(0,S.encryptObject)(D,(K=process.env)==null?void 0:K.REACT_APP_SECRET_KEY),E.body=JSON.stringify(E==null?void 0:E.body)}else y?E.body=e==null?void 0:e.body:E.body=JSON.stringify(R(a({},(e==null?void 0:e.body)||{}),{actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id}));else if(f){E.headers=R(a({},E==null?void 0:E.headers),{encryptedRequest:{}});let p=y?e==null?void 0:e.body:R(a({},(e==null?void 0:e.body)||{}),{actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id});console.log("***************** Final Updated Body ***************** ",p);let D={reqData:(0,S.encryptObject)(p,(j=process.env)==null?void 0:j.REACT_APP_PLATFORM_KEY),encryptionDetails:{PlatformName:(H=process.env)==null?void 0:H.REACT_APP_PLATFORM_NAME,PlatformVersion:($=process.env)==null?void 0:$.REACT_APP_PLATFORM_VERSION}};E.headers.encryptedRequest=(0,S.encryptObject)(D,(J=process.env)==null?void 0:J.REACT_APP_SECRET_KEY)}else E.headers=y?E==null?void 0:E.headers:R(a({},E==null?void 0:E.headers),{reqData:{actionPerformerURDD:l==null?void 0:l.user_role_designation_department_id}});if(console.log("Complete URL",P),P!==""){console.log(`***************** API_Request_After_Encryption *************
`,E);let p=yield fetch(P,E).catch(D=>{console.log(`Network error: ${D==null?void 0:D.message}`)}),_=v?p:yield p.json();if(console.log("responseData::::",_),_.status!==200){let D=qs(_.status,_.scc);e!=null&&e.onFailure&&typeof(e==null?void 0:e.onFailure)=="function"&&(e==null||e.onFailure({status:_==null?void 0:_.status,frameworkStatusCode:_==null?void 0:_.scc,message:D||(_==null?void 0:_.message)}));return}else _!=null&&_.payload&&f?_=(0,S.decryptObject)(_==null?void 0:_.payload,(z=process.env)==null?void 0:z.REACT_APP_PLATFORM_KEY):_=v?p:_==null?void 0:_.payload,e!=null&&e.reduxActionType&&(yield(0,g.put)({type:e==null?void 0:e.reduxActionType,payload:_,requestParams:e==null?void 0:e.body})),typeof(e==null?void 0:e.onSuccess)=="function"&&(console.log(`***************** API_Response *************
 `,P,_,v),e==null||e.onSuccess(_))}}catch(d){console.error(`******** Error in fetchData ******* : ${d==null?void 0:d.message}`),e!=null&&e.onFailure&&typeof(e==null?void 0:e.onFailure)=="function"&&(e==null||e.onFailure({message:d.message}))}}var g,S,qs,t,W=c(()=>{g=require("redux-saga/effects"),S=F(os());ns();qs=(s,r)=>({E10:"Parameter name does not exist.",E11:"Parameter validation failure.",E12:"Parameter missing in source.",E13:"Required parameter missing.",E14:"No request body found.",E20:"Invalid or missing query nature.",E21:"Invalid or missing query payload.",E22:"Callback function error.",E23:"Callback function missing.",E24:"Payload function error.",E25:"Payload function missing.",E30:"Invalid or missing request method.",E31:"Invalid or missing permission.",E32:"Invalid page size value.",E40:"Invalid or expired token.",E41:"Permission validation failure.",E42:"OTP verification failure.",E43:"Object resolver failure.",E44:"Database connection failed.",E50:"API version does not exist.",E51:"API object does not exist.",E52:"Mismatch request method."})[r]||`Unexpected error (Code: ${r})`,t=Ys});function*Ks(s){yield(0,_s.put)({type:s.payload.reduxActionType,payload:s.payload.data})}var _s,h,Es=c(()=>{_s=require("redux-saga/effects");h=Ks});function*js(){yield(0,o.takeEvery)(de,t),yield(0,o.takeEvery)(Ie,t),yield(0,o.takeEvery)(Oe,t),yield(0,o.takeEvery)(fe,t),yield(0,o.takeEvery)(ye,t),yield(0,o.takeEvery)(ue,t),yield(0,o.takeEvery)(ge,t),yield(0,o.takeEvery)(Ne,t),yield(0,o.takeEvery)(Le,t),yield(0,o.takeEvery)(Ge,t),yield(0,o.takeEvery)(Me,t),yield(0,o.takeEvery)(Ce,t),yield(0,o.takeEvery)(xe,t),yield(0,o.takeEvery)(Ve,t),yield(0,o.takeEvery)(ve,t),yield(0,o.takeEvery)(he,t),yield(0,o.takeEvery)(be,t),yield(0,o.takeEvery)(we,t),yield(0,o.takeEvery)(ke,t),yield(0,o.takeEvery)(k,t),yield(0,o.takeEvery)(Fe,t),yield(0,o.takeEvery)(Be,t),yield(0,o.takeEvery)(We,t),yield(0,o.takeEvery)(Xe,t),yield(0,o.takeEvery)(Ye,t),yield(0,o.takeEvery)(qe,t),yield(0,o.takeEvery)(Ke,t),yield(0,o.takeEvery)(k,t),yield(0,o.takeEvery)("admin_user_update",t),yield(0,o.takeEvery)("admin_urdd_list",t),yield(0,o.takeEvery)("admin_urdd_add",t),yield(0,o.takeEvery)(Ue,h),yield(0,o.takeEvery)(Pe,h),yield(0,o.takeEvery)(me,h),yield(0,o.takeEvery)(Ze,t),yield(0,o.takeEvery)(je,t),yield(0,o.takeEvery)(He,t),yield(0,o.takeEvery)($e,t),yield(0,o.takeEvery)(Je,t),yield(0,o.takeEvery)(ze,t),yield(0,o.takeEvery)(Qe,t)}var o,is,ls=c(()=>{es();o=require("redux-saga/effects");W();Es();is=js});function*Hs(){yield(0,as.all)([is()])}var as,ps,Rs=c(()=>{as=require("redux-saga/effects");ls();ps=Hs});var m,b,cs,As,$s,Js,Ds,zs,X,Nr,Ts=c(()=>{m=require("redux"),b=require("redux-persist"),cs=F(require("redux-persist/lib/storage/index")),As=F(require("redux-saga"));Se();Rs();$s={key:"root",storage:cs.default},Js=(0,b.persistReducer)($s,Te),Ds=(0,As.default)(),zs=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.compose,X=(0,m.createStore)(Js,zs((0,m.applyMiddleware)(Ds)));Ds.run(ps);Nr=(0,b.persistStore)(X)});var ds={};w(ds,{getServerResponse:()=>Qs});var Ss,Qs,Is=c(()=>{Ts();Ss=require("redux-saga");W();Qs=async(s,r=null,n=null,e=null)=>{if(!(s!=null&&s.apiUrl)){console.error("Error","No API URL provided");return}try{return await(0,Ss.runSaga)({dispatch:()=>{},getState:()=>X.getState()},t,s,r,n).toPromise()}catch(i){console.error("Error in Server Response:",i)}finally{e&&e(!1)}}});var Ps={};w(Ps,{default:()=>Us});function Us({apiActionType:s="",permission:r=!1,requestType:n="GET",apiUrl:e,isEncrypted:i=!0,metaData:A=!0,useBaseURL:I=!0,formData:L=!1,body:G={},reduxActionType:M="",isFile:C=!1,onSuccess:x=U=>console.log("Success:",U),onFailure:V=U=>console.log("Error:",U.message)}){return{apiActionType:s,permission:r,requestType:n,apiUrl:e,metaData:A,body:G,formData:L,useBaseURL:I,isEncrypted:i,reduxActionType:M,isFile:C,onSuccess:x,onFailure:V}}var ms=c(()=>{});var gs={};w(gs,{showErrorToast:()=>fs,showInfoToast:()=>ys,showSuccessToast:()=>Os,showToast:()=>Zs,showWarningToast:()=>us});var O,Cr,N,Os,fs,ys,us,Zs,Ns=c(()=>{O=require("react-toastify"),Cr=require("react-toastify/dist/ReactToastify.css"),N={position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0},Os=s=>{O.toast.success(s,N)},fs=s=>{O.toast.error(s,N)},ys=s=>{O.toast.info(s,N)},us=s=>{O.toast.warning(s,N)},Zs=(s,r="default")=>{switch(r==null?void 0:r.toLowerCase()){case"success":Os(s);break;case"error":fs(s);break;case"info":ys(s);break;case"warning":us(s);break;default:(0,O.toast)(s,N)}}});var{getServerResponse:er}=(Is(),B(ds)),sr=(ms(),B(Ps)),{showSuccessToast:rr,showErrorToast:or,showInfoToast:tr}=(Ns(),B(gs));module.exports={getServerResponse:er,serverCommunicationHelper:sr,showSuccessToast:rr,showErrorToast:or,showInfoToast:tr};
//# sourceMappingURL=index.js.map